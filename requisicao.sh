#!/bin/bash

curl -v 'https://wabi-brazil-south-b-primary-api.analysis.windows.net/public/reports/querydata?synchronous=true' \
  -H 'Accept: application/json, text/plain, */*' \
  -H 'Accept-Language: pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7' \
  -H 'ActivityId: e92d011d-3b0e-469f-96af-7c5a055ad7f7' \
  -H 'Connection: keep-alive' \
  -H 'Content-Type: application/json;charset=UTF-8' \
  -H 'Origin: https://app.powerbi.com' \
  -H 'Referer: https://app.powerbi.com/' \
  -H 'RequestId: 1426d353-f3c2-b8ed-b300-7faa0006502f' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Site: cross-site' \
  -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36' \
  -H 'X-PowerBI-ResourceKey: 3586c0cc-4b56-464e-9aa1-bd822b22aa8d' \
  -H 'sec-ch-ua: "Not A(Brand";v="99", "Google Chrome";v="121", "Chromium";v="121"' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'sec-ch-ua-platform: "Windows"' \
  --data-raw $'{"version":"1.0.0","queries":[{"Query":{"Commands":[{"SemanticQueryDataShapeCommand":{"Query":{"Version":2,"From":[{"Name":"m","Entity":"Medidas","Type":0},{"Name":"r","Entity":"RAD_CLIENTE","Type":0},{"Name":"r1","Entity":"Representante","Type":0},{"Name":"p","Entity":"pSenha","Type":0},{"Name":"d","Entity":"dCAlendario","Type":0},{"Name":"t","Entity":"Tipo_Produto","Type":0}],"Select":[{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"RAZAO_SOCIAL"},"Name":"RAD_CLIENTE.RAZAO_SOCIAL","NativeReferenceName":"Cliente"},{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"CLASSIFICACAO"},"Name":"RAD_CLIENTE.CLASSIFICACAO","NativeReferenceName":"Classificação"},{"Measure":{"Expression":{"SourceRef":{"Source":"m"}},"Property":"R$ Total Meta"},"Name":"Medidas.R$ Total Meta","NativeReferenceName":"R$ Meta"},{"Measure":{"Expression":{"SourceRef":{"Source":"m"}},"Property":"R$ Total Pedidos VLiquido"},"Name":"Medidas.R$ Total Pedidos VLiquido","NativeReferenceName":"R$ Realizado"},{"Measure":{"Expression":{"SourceRef":{"Source":"m"}},"Property":"R$ Variação"},"Name":"Medidas.R$ Variação","NativeReferenceName":"R$ Variação"},{"Measure":{"Expression":{"SourceRef":{"Source":"m"}},"Property":"% R$ Variação"},"Name":"Medidas.% R$ Variação","NativeReferenceName":"% R$ Variação"},{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"SEGMENTO"},"Name":"RAD_CLIENTE.SEGMENTO","NativeReferenceName":"Segmento"},{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"CNPJ_BASE"},"Name":"RAD_CLIENTE.CNPJ_BASE","NativeReferenceName":"CNPJ / Rede"},{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"CANAL_VENDA"},"Name":"RAD_CLIENTE.CANAL_VENDA","NativeReferenceName":"Canal de Venda"},{"Measure":{"Expression":{"SourceRef":{"Source":"m"}},"Property":"R$ Total Pedidos VLiquido Ano Anterior dia a dia"},"Name":"Medidas.R$ Total Pedidos VLiquido Ano Anterior dia a dia","NativeReferenceName":"R$ Realizado Ant."}],"Where":[{"Condition":{"Comparison":{"ComparisonKind":0,"Left":{"Measure":{"Expression":{"SourceRef":{"Source":"m"}},"Property":".Exibe Cliente"}},"Right":{"Literal":{"Value":"\'Sim\'"}}}},"Target":[{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"CNPJ_BASE"}},{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"RAZAO_SOCIAL"}},{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"CLASSIFICACAO"}},{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"SEGMENTO"}},{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"CANAL_VENDA"}}]},{"Condition":{"Comparison":{"ComparisonKind":0,"Left":{"Measure":{"Expression":{"SourceRef":{"Source":"m"}},"Property":"Check"}},"Right":{"Literal":{"Value":"\'OK\'"}}}},"Target":[{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"CNPJ_BASE"}},{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"RAZAO_SOCIAL"}},{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"CLASSIFICACAO"}},{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"SEGMENTO"}},{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"CANAL_VENDA"}}]},{"Condition":{"In":{"Expressions":[{"Column":{"Expression":{"SourceRef":{"Source":"r1"}},"Property":"COD_REPRES"}}],"Values":[[{"Literal":{"Value":"ZZZUSUARIO"}}]]}}},{"Condition":{"Comparison":{"ComparisonKind":0,"Left":{"Column":{"Expression":{"SourceRef":{"Source":"p"}},"Property":"pSenha"}},"Right":{"Literal":{"Value":"XXXROD"}}}}},{"Condition":{"In":{"Expressions":[{"Column":{"Expression":{"SourceRef":{"Source":"d"}},"Property":"Ano"}}],"Values":[[{"Literal":{"Value":"2024L"}}]]}}},{"Condition":{"Not":{"Expression":{"In":{"Expressions":[{"Column":{"Expression":{"SourceRef":{"Source":"r"}},"Property":"CLASSIFICACAO"}}],"Values":[[{"Literal":{"Value":"\'BAIXADO(RECEITA/SINTEGRA)\'"}}]]}}}}},{"Condition":{"In":{"Expressions":[{"Column":{"Expression":{"SourceRef":{"Source":"t"}},"Property":"Tipo"}}],"Values":[[{"Literal":{"Value":"\'C\'"}}],[{"Literal":{"Value":"\'D\'"}}],[{"Literal":{"Value":"\'T\'"}}]]}}}],"OrderBy":[{"Direction":2,"Expression":{"Measure":{"Expression":{"SourceRef":{"Source":"m"}},"Property":"R$ Total Pedidos VLiquido"}}}]},"Binding":{"Primary":{"Groupings":[{"Projections":[0,1,2,3,4,5,6,7,8,9],"Subtotal":1}]},"DataReduction":{"DataVolume":3,"Primary":{"Window":{"Count":500}}},"Version":1},"ExecutionMetricsKind":1}}]},"QueryId":"","ApplicationContext":{"DatasetId":"0f22e7bc-1f3c-4cea-9214-e4d68c4e16e7","Sources":[{"ReportId":"644d4395-8bda-4c47-8db7-1ea4f7382160","VisualId":"22805db50ead07bd01b0"}]}}],"cancelQueries":[],"modelId":3119503}' \
  --compressed
